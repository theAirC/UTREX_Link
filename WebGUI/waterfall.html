<html>

<body>
<canvas id="c" width="1024" height="768">
</canvas>
</body>

<script type="text/javascript" src="js/general.js"></script>
<script type="text/javascript" src="js/waterfall.js"></script>
<script type="text/javascript">
var wf = new WaterFall(g('c'));
wf.UpdateMargins(1, 1);
var data = Array(64);
for (var i = 0; i < 17; i++) data[i] = i*4;
for (var i = 17; i < 32; i++) data[i] = 64 - (i-16)*4;
for (var i = 32; i < 64; i++) data[i] = data[i-32];

var cnt = 0;

function go() {
    wf.Update(data);
    
    cnt++;
    if (cnt == 10) cnt = -10;
    for (var j = 31; j < 34; j++) {
        if (cnt < 0) data[j]-=3;
        else data[j]+=3;
    }
}

setInterval(go, 30);
</script>

</html>
